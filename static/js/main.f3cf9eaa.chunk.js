(this.webpackJsonppoints=this.webpackJsonppoints||[]).push([[0],{17:function(e,n,t){},23:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var r,c=t(0),a=t(6),o=t.n(a),l=(t(17),t(2)),i=l.c,u=t(3),d=t(5);!function(e){e[e.red=0]="red",e[e.blue=1]="blue"}(r||(r={}));var f,p=[{x:1,y:1,player:r.red},{x:3,y:3,player:r.blue}],s={x:5,y:5},_=function(e,n,t){var r=t.player,c=b(t.id),a=Object(u.a)(c,2),o=a[0],l=a[1];n(C(e.field[l][o].id)),l+1<s.y&&E(n,e.field[l+1][o].id,r),o+1<s.x&&E(n,e.field[l][o+1].id,r),l-1>=0&&E(n,e.field[l-1][o].id,r),o-1>=0&&E(n,e.field[l][o-1].id,r)},E=function(e,n,t){e(R({cellId:n,player:t})),e(m(n))},b=function(e){return[e%10,Math.floor(e/10)]},j=function(e){return r[e+1]?++e:0},y=function(e){return{id:e,count:0,player:void 0}},v=function(e,n){var t=e;return n.forEach((function(e){t[e.y][e.x].player=e.player,t[e.y][e.x].count=3})),t};!function(e){e.CELL_CAPTURE="CELL_CAPTURE",e.CELL_INCREMENT="CELL_INCREMENT",e.CELL_ZEROING="CELL_ZEROING",e.NEXT_MOVER="NEXT_MOVER",e.RESTART_GAME="RESTART_GAME",e.CHANGE_TITLE="CHANGE_TITLE"}(f||(f={}));var O=function(){return{field:v((e=s,new Array(e.y).fill(1).map((function(n,t){return new Array(e.x).fill(1).map((function(e,n){return y(10*t+n)}))}))),p),mover:r.red};var e},m=function(e){return{type:f.CELL_INCREMENT,payload:e}},C=function(e){return{type:f.CELL_ZEROING,payload:e}},R=function(e){return{type:f.CELL_CAPTURE,payload:e}};function L(e,n){var t=Object(d.a)({},e),r=b(n.payload.cellId),c=Object(u.a)(r,2),a=c[0],o=c[1];return t.field[o][a].player=n.payload.player,t}function T(e,n){var t=Object(d.a)({},e),r=b(n.payload),c=Object(u.a)(r,2),a=c[0],o=c[1];return t.field[o][a].count+=1,t}function N(e,n){var t=Object(d.a)({},e),r=b(n.payload),c=Object(u.a)(r,2),a=c[0],o=c[1];return t.field[o][a].count=0,t.field[o][a].player=void 0,t}var h=t(4),x=t.n(h),I=t(1),A=function(e){var n=e.cell,t=Object(l.b)(),c=i((function(e){return e.game}));return Object(I.jsx)("div",{className:x.a.wrapper,draggable:"false",children:Object(I.jsx)("div",{className:[x.a.content,function(e){switch(e){case void 0:return x.a.none;case r.blue:return x.a.blue;case r.red:return x.a.red;default:return""}}(n.player)].join(" "),onClick:function(){c.mover===n.player&&(t(m(n.id)),t({type:f.NEXT_MOVER,payload:void 0}))},draggable:"false",children:0===n.count?"":n.count})})},w=t(8),M=t.n(w),G=function(e){var n=e.field;return Object(I.jsx)("div",{className:M.a.wrapper,children:Object(I.jsx)("div",{className:M.a.content,children:n.map((function(e){return Object(I.jsx)("div",{className:M.a.row,children:e.map((function(e){return Object(I.jsx)(A,{cell:e},e.id)}))},Math.random())}))})})};t(23);var g=function(){var e=Object(l.b)(),n=i((function(e){return e.game}));return Object(c.useEffect)((function(){return function(e,n){e.field.forEach((function(t){t.forEach((function(t){t.count>3&&_(e,n,t)}))}))}(n,e)}),[n,e]),Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)("div",{className:"App__content",children:[Object(I.jsx)(G,{field:n.field}),Object(I.jsx)("button",{onClick:function(){return e({type:f.RESTART_GAME,payload:void 0})},children:"Restart"})]})})},Z=t(7),S=t(12),U=Object(Z.combineReducers)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f.CELL_CAPTURE:return L(e,n);case f.CELL_INCREMENT:return T(e,n);case f.CELL_ZEROING:return N(e,n);case f.NEXT_MOVER:return Object(d.a)(Object(d.a)({},e),{},{mover:j(e.mover)});case f.RESTART_GAME:return O();default:return e}}}),k=Object(Z.createStore)(U,Object(S.composeWithDevTools)());o.a.render(Object(I.jsx)(l.a,{store:k,children:Object(I.jsx)(g,{})}),document.getElementById("root"))},4:function(e,n,t){e.exports={wrapper:"CellItem_wrapper__1__Uv",content:"CellItem_content__39sOt",none:"CellItem_none__rZh4b",blue:"CellItem_blue__2JvrQ",green:"CellItem_green__2RAp7",yellow:"CellItem_yellow__1S6xu",red:"CellItem_red__2okIZ"}},8:function(e,n,t){e.exports={wrapper:"GameField_wrapper__2CTQv",content:"GameField_content__1KzUx",row:"GameField_row__3MZHc"}}},[[24,1,2]]]);
//# sourceMappingURL=main.f3cf9eaa.chunk.js.map